@charset "UTF-8";

/* Fonts: loaded in fonts.css */
/* General desktop/mobile: loaded in initial.css */
/* default.css: contains everything else, like drop caps, link icons, tables, etc */

/**********/
/* COLORS */
/**********/
/* colors are now in /static/css/colors.css or dark-mode.css */

/****************/
/* FIXED COLORS */
/****************/
/* Not to be inverted in dark mode! */

:root {
	--GW-object-popup-background-color: #fff;
}

/*********************/
/* ARTICLE CONTAINER */
/*********************/

/*  (i.e., article) */
/*  Nothing!
    */

/************/
/* SECTIONS */
/************/
/*  Use: annotate collapsible section headers with '{.collapse}' (in the Markdown);
    for sections where I want a summary/abstract of that (eg in Notes.page/Statistical-notes.page),
    one annotate summaries to keep uncollapsed with '<div class="collapseSummary">summary</div>'.
    (Pandoc Markdown does support a native div syntax, but it's long and ugly.)
    */

.collapse {
    min-height: 4.5rem;
    position: relative;
    overflow: hidden;
    padding: 0 0 2rem 0;
    box-sizing: border-box;
    margin: 1em 0;
}
.collapse:not(.expanded) > .disclosure-button ~ :not(.collapseSummary) {
    max-height: 0;
    min-height: unset;
    overflow: hidden;
    padding: 0;
    margin: 0;
    border: none;
}
.collapse.expanded {
    overflow: visible;
}

/*  Collapse summary.
    */
.collapseSummary {
    margin: 0;
}
.collapse:not(.expanded) > .collapseSummary {
    pointer-events: none;
    position: relative;
    z-index: 3;
}
.collapse:not(.expanded) > .collapseSummary blockquote {
    margin: 0;
}
.collapse:not(.expanded) > .disclosure-button:hover + .collapseSummary blockquote {
    background-color: #eee;
}

/*  Special-case formatting within collapses.
    */
.collapse p,
.collapse .caption-wrapper,
.collapse .epigraph,
.collapse table,
.collapse table caption,
.collapse hr,
.collapse > .disclosure-button ~ .collapseSummary *[class*='drop-cap-'] > p::first-letter {
    background-color: var(--GW-body-background-color);
}
.collapse blockquote p {
    background-color: inherit;
}
.collapse.expanded > .disclosure-button ~ *:not(section):not(.collapseSummary),
.collapse.expanded > .disclosure-button ~ figure.full-width .figure-inner-wrapper {
    box-shadow:
        -0.125rem 0 0 0.375rem var(--GW-body-background-color);
    position: relative;
    z-index: 1;
}
.collapse.expanded > .disclosure-button ~ figure.full-width,
.collapse.expanded > .disclosure-button ~ pre:last-child {
    box-shadow: none;
}
.collapse div[class^='horizontalRule'] {
    filter: none;
}

/*  Disclosure button.
    */
.disclosure-button {
    -webkit-appearance: none;
    -moz-appearance: none;
    cursor: pointer;
    margin: 0;
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    font-weight: inherit;
    font-style: inherit;
    font-size: 0.875em;
    font-family: var(--GW-sans-serif-font-stack);
    box-shadow:
        3em 0 0 0 #eee inset;
    transition:
        box-shadow 0.1s ease;
}
.disclosure-button:hover {
    box-shadow:
        3em 0 0 0 #ddd inset;
}
.disclosure-button:checked {
    pointer-events: none;
    background-color: transparent;
}
.disclosure-button:focus {
    outline: none;
}

/*  Top and bottom parts of disclosure button.
    */
.disclosure-button::before,
.disclosure-button::after {
    background-color: #eee;
    transition:
        color 0.1s ease,
        background-color 0.1s ease;
}
.disclosure-button:hover::before,
.disclosure-button:hover::after {
    background-color: #ddd;
}
.disclosure-button:checked::before,
.disclosure-button:checked::after {
    pointer-events: auto;
}

/*  Top part of disclosure button.
    */
.disclosure-button::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 3rem;
    text-align: right;
    color: #bbb;
    padding: 0.875rem 3rem;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z" fill="%23CCC"/></svg>');
    background-repeat: no-repeat;
    background-position: calc(100% - 1rem) 0.625rem;
    background-size: auto 1.5rem;
    box-sizing: border-box;
}
.disclosure-button:hover::before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z" fill="%23FFF"/></svg>');
    color: #fff;
}
.disclosure-button:checked::before {
    content: "Click to collapse";
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" fill="%23CCC"/></svg>');
    background-position: calc(100% - 0.75rem) 0.75rem;
}
.disclosure-button:checked:hover::before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" fill="%23FFF"/></svg>');
}

/*  Bottom part of disclosure button.
    */
.disclosure-button::after {
    width: 100%;
    height: 2rem;
    position: absolute;
    text-align: center;
    pointer-events: none;
    content: "… Click to expand …";
    color: #aaa;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}
.disclosure-button:hover::after {
    color: #fff;
}
.disclosure-button:checked::after {
    content: "Click to collapse";
}

/*  Collapsible sections (the <section> element).
    */
section.collapse {
    padding-left: 1em;
    margin: 2.5em 0 2.25em -1em;
}
section.collapse > *:first-child {
    margin-top: 0;
    position: relative;
    z-index: 2;
    pointer-events: none;
    margin-left: -0.5rem;
}
section.collapse > h1:first-child {
    margin-bottom: 0.375em;
}
section.collapse > h2:first-child {
    line-height: 1.75;
}
section.collapse > h2:first-child::after {
    content: none;
}
article > :not(#TOC) section.collapse > *:first-child a {
    text-shadow: none;
}
section.collapse > :first-child > a {
    pointer-events: auto;
    position: relative;
}

/*  Collapsible non-section blocks.
    */
:not(section).collapse:not(.expanded) {
    padding: 0;
}
:not(section).collapse > .disclosure-button {
    box-shadow: none;
}
:not(section).collapse.expanded > .disclosure-button {
    background-color: var(--GW-body-background-color);
    z-index: 1;
}
:not(section).collapse:not(.expanded) > .disclosure-button::before,
:not(section).collapse:not(.expanded) > .disclosure-button::after {
    z-index: 2;
    opacity: 0.95;
}
:not(section).collapse:not(.expanded) > .disclosure-button ~ :not(.collapseSummary) {
    max-height: 5rem;
}
:not(section).collapse.expanded {
    padding-top: 3.5rem;
    padding-bottom: 2.5rem;
}

/*  Collapsible code blocks.
    */
.sourceCode .collapse,
.sourceCode.collapse {
    margin: 1.75em auto;
}
.sourceCode .collapse > pre,
.sourceCode.collapse > pre {
    margin: 0;
}
.collapse:not(.expanded) > .disclosure-button ~ pre:not(.collapseSummary) {
    border: 1px solid var(--GW-pre-element-border-color);
    box-sizing: border-box;
}
.sourceCode :not(section).collapse:not(.expanded) > .disclosure-button::before,
.sourceCode :not(section).collapse:not(.expanded) > .disclosure-button::after,
.sourceCode:not(section).collapse:not(.expanded) > .disclosure-button::before,
.sourceCode:not(section).collapse:not(.expanded) > .disclosure-button::after {
    opacity: 0.7;
    text-shadow: none;
}

/*  Collapsible tables (special case).
    */
.collapse:not(.expanded) > .disclosure-button + .table-wrapper {
    max-height: 2.125em;
    overflow: hidden;
}

/************/
/* HEADINGS */
/************/

/* HEADER H1-6 HIERARCHY */
h1, h2, h3, h4, h5, h6 {
    margin: 1.25em 0 0.5em -0.75rem;
    font-weight: bold;
    position: relative;
}
@media only screen and (max-width: 650px) {
    h1, h2, h3, h4, h5, h6 {
        margin: 1.25em 0 0.5em 0;
    }
}

/*=-------------------------=*/
/*= Inline code in headings =*/
/*=-------------------------=*/

h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
    border: none;
    padding: 0;
    background-color: inherit;
    font-size: inherit;
    font-weight: normal;
}

/*=----------------=*/
/*= Heading levels =*/
/*=----------------=*/
/* h1 defined in initial.css */
section:not(.collapse) > h1:first-child {
    line-height: 1;
    margin: 1.75em 0 0.375em 0;
    text-align: right;
    font-weight: 600;
    box-shadow:
        0 -2px 0 0 var(--GW-H1-box-shadow-background-color) inset,
        0 -3px 0 0 var(--GW-H1-box-shadow-line-color) inset;
}
#markdownBody section:not(.collapse) > h1:first-child a {
    position: relative;
}
#markdownBody section:not(.collapse) > h1:first-child a::after {
    position: absolute;
    top: 0.15em;
}
@media only screen and (min-width: 650px) {
    section:not(.collapse) > h1:first-child {
        margin: 1.75em 0 0.375em -0.75rem;
        font-size: 2em;
        overflow: hidden;
        padding: 0 0 7px 1.25rem;
        box-shadow:
            0 -5px 0 0 var(--GW-H1-box-shadow-background-color) inset,
            0 -6px 0 0 var(--GW-H1-box-shadow-line-color) inset;
    }
    #markdownBody section:not(.collapse) > h1:first-child a::after {
        left: -0.75em;
    }
}

/*  Italics in h1 headings.
    */
h1 em:last-child {
    padding-right: 0.075em;
}

h2 {
    text-transform: uppercase;
    font-size: 1.25em;
    padding: 0 0.5em 2px 0;
    line-height: 1.25;
}
h2::after {
    content: "";
    display: block;
    position: absolute;
    width: 100%;
    border-bottom: 1px dotted var(--GW-H2-bottom-border-color);
    left: 0;
    bottom: 0.05em;
    pointer-events: none;
    z-index: -1;
}
#markdownBody section:not(.collapse) > h2:first-child a {
    position: relative;
}
#markdownBody section:not(.collapse) > h2:first-child a::after {
    position: absolute;
    top: 0.1em;
    left: unset;
    right: -0.75em;
}
#markdownBody section.collapse > h2:first-child a::after {
    top: -0.2em;
}
@media only screen and (min-width: 650px) {
    section:not(.collapse) > h2:first-child {
        overflow: hidden;
    }
}

h3 {
    text-transform: capitalize;
    font-size: 1.125em;
}
h4 {
    text-transform: capitalize;
}
h5 {
    font-size: 1em;
}
h6 {
    font-size: 1em;
    font-weight: normal;
    font-style: italic;
}

/*  Margins between adjacent headings should collapse.
    */
h1 + section > h2:first-child,
h2 + section > h3:first-child {
    margin-top: 0;
}

/*=----------------------------=*/
/*= Section heading self-links =*/
/*=----------------------------=*/

article #markdownBody section > :first-child a {
    background: none;
}
article #markdownBody section:not(.collapse) > h1:first-child a,
article #markdownBody section:not(.collapse) > h2:first-child a {
    display: block;
}
section > :first-child a::after {
    content: "\00B6"; /* Pilcrow sign: ¶ */
    font-size: 0.75em;
    position: relative;
    top: -0.2em;
    left: 0.35em;
    visibility: hidden;
    opacity: 0;
    transition: opacity 0s ease 0.1s;
}
section > :first-child a[href^='#']:hover::after,
section > :first-child a[href^='#']:active::after,
section > :first-child a[href^='#']:focus::after,
section.highlighted > :first-child a[href^='#']::after,
section:target > :first-child a[href^='#']::after {
    visibility: visible;
}
section > :first-child a[href^='#']:hover::after,
section > :first-child a[href^='#']:active::after,
section > :first-child a[href^='#']:focus::after,
section.highlighted > :first-child a[href^='#']::after {
    opacity: 0.8;
}
section:target > :first-child a[href^='#']::after {
    opacity: 0.5;
}

/**********/
/* FOOTER */
/**********/

#footer {
    padding-top: 30px;
    text-align: center;
}

/*********************/
/* SECTION SEPARATOR */
/*********************/

hr {
    border: 0;
    margin: 1.125em 0;
    height: 40px;
    line-height: 1;
    display: flex;
}

[class^='horizontalRule'] {
    clear: both;
}

/* These classes are created at compile-time by the 'rulersCycle' Pandoc rewrite pass in Typography.hs; they assign each use of <hr> in the body a class 0-2 (n modulo 3). This lets us create an astronomical theme cycle: the first, fourth, seventh etc rulers are the triple-white star; the second, fifth, eighth etc are a dotted moon; the third, sixth, ninth etc are a sun. */
hr::after {
    margin: auto;
    display: flex;
}
hr::after,
.horizontalRule-nth-0 hr::after {
    content: url('/static/img/icons/asterism-triplewhitestar.svg');
    width: 30px;
}
.horizontalRule-nth-0 {
    filter: drop-shadow(0 0 0 currentColor);
}
.horizontalRule-nth-1 hr::after {
    /* https://commons.wikimedia.org/wiki/File:Japanese_crest_Tsuki_ni_Hoshi.svg */
    content: url('/static/img/icons/japanesecrest-tsukinihoshi-dottedmoon.svg');
    opacity: 0.65;
    width: 24px;
}
.horizontalRule-nth-2 hr::after {
    /* https://commons.wikimedia.org/wiki/File:Sun_of_Vergina_black.svg */
    content: url('/static/img/icons/sun-verginasun-black.svg');
    /* NOTE: alternative moon icon is /static/img/icons/japanesecrest-oookashippouofoookatadasuke-sun.svg modified from https://commons.wikimedia.org/wiki/File:Japanese_crest_Oooka_Shippou_of_Oooka_Tadasuke.svg - while nice, it lacks the intense moire effect of the Vergina Sun */
    opacity: 0.65;
    width: 40px;
}

/**********/
/* DISQUS */
/**********/

#disqus_thread {
    padding-left: 0.5em;
}
#comments {
    position: relative;
    margin: 0.5em 0 0 0;
    padding: 0.25em 0 0 0;
}
#comments::before {
    content: "";
    display: block;
    position: absolute;
    width: calc(100% + 10px);
    border-top: 1px solid var(--GW-comment-section-top-border-color);
    top: 0;
    left: 0;
}

/***********/
/* NUMBERS */
/***********/
/*  'tabular figures' to make numbers line up in tables or other monospace/code like contexts:
        https://practicaltypography.com/alternate-figures.html#tabular-and-proportional-figures
        https://helpx.adobe.com/fonts/using/open-type-syntax.html#tnum
*/
table, code, pre, a, h1, h2, h3, h4, h5, h6 { /* Skip old-style figures in elements with underlining, to reduce the need to cross the underline with skip-ink */
    font-variant-numeric: tabular-nums;
}

/*********/
/* LINKS */
/*********/

article > :not(#TOC) a:hover,
#footer a:hover,
#sidebar a:hover {
    color: var(--GW-link-hover-color);
}

/*=-----------------------------------------=*/
/*= Icons for certain link types: by target =*/
/*=-----------------------------------------=*/

/* Now handled in /static/css/links.css */

/*********/
/* LISTS */
/*********/

ul,
ol {
    list-style-type: none;
    margin: 1.25em 0 1.5em 0;
    padding: 0 0 0 2.5em;
    overflow: hidden;
}
li > ul,
li > ol {
    margin: 0.5em 0;
}

ul > li,
ol > li {
    position: relative;
    margin: 0;
}
ul > li:nth-of-type(n+2),
ol > li:nth-of-type(n+2) {
    margin: 0.5em 0 0 0;
}

ul > li::before {
    position: absolute;
    z-index: 1;
}

:not(ul):not(ol) > li {
	list-style-type: none;
}

@media only screen and (max-width: 649px) {
    ul,
    ol {
        padding: 0 0 0 1.75em;
    }
}

ul ul:last-child,
ul ol:last-child,
ol ol:last-child,
ol ul:last-child {
    margin-bottom: 0;
}
p + ul,
p + ol {
    margin-top: 0.5em;
}

/*=-----------------------=*/
/*= Bulleted list markers =*/
/*=-----------------------=*/
/* NOTE: should be able to simplify list markers ~2026 using ::marker, see https://web.dev/css-marker-pseudo-element/ https://www.caniuse.com/css-marker-pseudo */
ul > li::before {
    display: block;
    left: -1.375em;
    width: 0.75em;
}

ul > li::before,
ul ul ul ul > li::before {
    content: url('/static/img/icons/single-white-star.svg');
}
ul ul > li::before,
ul ul ul ul ul > li::before {
    content: url('/static/img/icons/single-black-star.svg');
}
ul ul ul > li::before,
ul ul ul ul ul ul > li::before {
    /* this rotates into more of a 'lozenge' square for variety's sake */
    content: url('/static/img/icons/single-white-star-rotated.svg');
}

/*=-----------------------=*/
/*= Numbered list markers =*/
/*=-----------------------=*/

ol,
ol ol ol ol {
    list-style-type: decimal;
}
ol li::marker {
    font-feature-settings: 'onum';
}
ol ol,
ol ol ol ol ol {
    list-style-type: upper-roman;
}
ol ol ol,
ol ol ol ol ol ol {
    list-style-type: lower-alpha;
}

/*=------------------=*/
/*= Weird edge cases =*/
/*=------------------=*/

li > ul + p,
li > ol + p {
    margin-top: 1em;
}

/***********/
/* FIGURES */
/***********/

figure {
    margin: 2em auto 1.75em auto;
    max-width: calc(100% - 5em);
}
@media only screen and (max-width: 649px) {
    figure {
        max-width: calc(100% - 2em);
    }
}
figure + figure {
    margin-top: 2.75em;
}
@media only screen and (max-width: 649px) {
    figure + figure {
        margin-top: 2em;
    }
}

.figure-inner-wrapper {
    display: block;
    margin: auto;
	width: -moz-fit-content;
	width: fit-content;
}

figure img,
figure video,
figure audio {
    outline: 1px solid var(--GW-figure-outline-color);
}
/* WARNING: work around Chrome layout bug */
figure audio {
    display: block;
    margin: 0 auto;
}

/*	Figure captions.
	*/
figcaption {
    font-size: 0.9375em;
    font-weight: bold;
    line-height: 1.45;
    margin: auto;
    padding: 0.25em 0.5em calc(0.25em + 1px) 0.5em;
    width: -moz-fit-content;
    width: fit-content;
}
@media only screen and (max-width: 649px) {
    figcaption {
        font-size: 0.875em;
    }
}

.caption-wrapper {
    display: block;
    outline: 1px solid var(--GW-figure-caption-outline-color);
    margin: 1px auto 0 auto;
    width: 100%;
}
video + .caption-wrapper {
	margin-top: 2px;
}

/*	Prevent lower border from being cut off.
	*/
.columns li figure {
    padding-bottom: 1px;
}

/* enable the various `![caption](/images/foo.jpg){.full-width}` uses; analogous to full-width tables */
figure.full-width {
    position: relative;
    max-width: unset;
}

/* Floating figures. (Mostly for amusing asides/memes.) */
@media only screen and (min-width: 650px) {
    figure.float-right {
        float: right;
        max-width: calc(50% - 1.5em);
        margin: 0 0 1em 1.5em;
    }
    figure.float-left {
        float: left;
        max-width: calc(50% - 1.5em);
        margin: 0 1.5em 1em 0;
    }
    p ~ figure.float-right,
    p ~ figure.float-left {
        margin-top: 0.5em;
    }
}

/* try to get edge-to-edge images on mobile to maximize horizontal space usage */
@media only screen and (max-width: 649px) {
    #markdownBody figure {
        max-width: unset;
    }
}

/*  Figures in sidenotes should take up the full width of the sidenote.
    */
.sidenote figure {
    margin: 1.5em auto;
    max-width: calc(100% - 2px);
}

/***************/
/* BLOCKQUOTES */
/***************/

/* main gray background is implemented in initial.css to avoid 'flash' on load */

blockquote {
	/* avoid problems with floating */
    clear: both;

    position: relative;
    z-index: 1;
}

blockquote blockquote {
    margin: 1em 1px;
}

/*=--------------------=*/
/*= Various edge cases =*/
/*=--------------------=*/

.markdownBody blockquote blockquote:first-child {
    margin: 0.25em 1px 1em 1px;
}

.markdownBody blockquote > :last-child,
.markdownBody blockquote > :last-child > :last-child,
.markdownBody blockquote > :last-child > :last-child > :last-child,
.markdownBody blockquote > :last-child > :last-child > :last-child > :last-child {
    margin-bottom: 0;
}
.markdownBody blockquote > :first-child,
.markdownBody blockquote > :first-child > :first-child,
.markdownBody blockquote > :first-child > :first-child > :first-child,
.markdownBody blockquote > :first-child > :first-child > :first-child > :first-child {
    margin-top: 0;
}

/*  Special case for tables in blockquotes.
    */
.markdownBody blockquote > table:last-child,
.markdownBody blockquote > :last-child > table:last-child,
.markdownBody blockquote > :last-child > :last-child > table:last-child,
.markdownBody blockquote > :last-child > :last-child > :last-child > table:last-child {
    margin-bottom: 0.5em;
}
.markdownBody blockquote > table:first-child,
.markdownBody blockquote > :first-child > table:first-child,
.markdownBody blockquote > :first-child > :first-child > table:first-child,
.markdownBody blockquote > :first-child > :first-child > :first-child > table:first-child {
    margin-top: 0.5em;
}

/*  Interviews (e.g. https://www.gwern.net/Morning-writing#examples).
    */
blockquote p > code:first-child,
blockquote p > a:first-child code:first-child {
    border: none;
    background-color: transparent;
    font-weight: bold;
    font-family: inherit;
    padding: 0;
    font-size: inherit;
}

/*  Tables in blockquotes.
    */
blockquote table {
    font-size: 0.7em;
    position: relative;
    z-index: 1;
}

/*************/
/* EPIGRAPHS */
/*************/
/* loosely inspired by https://edwardtufte.github.io/tufte-css/#epigraphs */

.epigraph {
    margin: 2em auto;
    padding: 0.5em 2.5em 0.375em 2.5em;
    overflow: hidden;
}
.epigraph blockquote {
    --GW-blockquote-background-color: var(--GW-body-background-color);

    padding: 0;
    border: none;
    background-color: inherit;
    margin: 0;
    font-size: inherit;
    position: relative;
    z-index: 1;
    overflow: visible;
}
.epigraph,
.epigraph blockquote {
	width: -moz-fit-content;
	width: fit-content;
}
.epigraph p  {
    font-style: italic;
    background-color: inherit;
}
/*  Reverse back to normal when italics are used inside an epigraph, or final block.
    */
.epigraph p:first-child em,
.epigraph p:last-child {
    font-style: normal;
}
#markdownBody .epigraph p:last-child {
    margin: 0.5em 0 0 0;
    text-align: right;
    font-size: 0.875em;
    text-indent: 0;
}

.epigraph blockquote::before,
.epigraph blockquote::after {
    display: block;
    position: absolute;
    font-size: 2.5em;
    color: var(--GW-epigraph-quotation-mark-color);
}
.epigraph blockquote::before {
    content: "\201C";
    left: -0.975em;
    top: -0.5em;
}
.epigraph blockquote::after {
    content: "\201D";
    right: -0.975em;
    bottom: -1em;
}

@media only screen and (max-width: 649px) {
    .epigraph {
        margin: 2.125em 1em;
        padding: 0;
        font-size: 0.95em;
        overflow: visible;
    }
    .epigraph blockquote::before {
        left: -0.375em;
        top: -0.75em;
    }
    .epigraph blockquote::after {
        right: -0.375em;
        bottom: -1.25em;
    }
    .epigraph + .epigraph {
        margin-top: 2.75em;
    }
}

/*=------------=*/
/*= Edge cases =*/
/*=------------=*/

@media only screen and (min-width: 650px) {
    h1 + .epigraph,
    h3 + .epigraph,
    h5 + .epigraph {
        margin-top: 1.25em;
    }
    h2 + .epigraph,
    h4 + .epigraph,
    h6 + .epigraph {
        margin-top: 1em;
    }
}

/*************/
/* FOOTNOTES */
/*************/

/* make footnotes better: http://bytes.com/topic/html-css/answers/97932-superscript-doesnt-distort-line-spacing#post340658 */
sub,
sup {
    line-height: 0.3em;
    font-feature-settings: 'lnum';
}
a.footnote-ref sup {
    vertical-align: baseline;
    font-size: 0.75em;
}
a.footnote-ref {
    vertical-align: super;
    line-height: 0.3;
    position: relative;
    top: 0.05em;
    padding: 0 0.05em;
    font-feature-settings: 'lnum';
    font-weight: 600;
    z-index: 1;
}
a.footnote-ref::before {
    content: "";
    display: block;
    position: absolute;
    width: calc(100% + 0.5em);
    height: 125%;
    left: calc(-0.25em - 3px);
    top: -3px;
    z-index: -1;
    border-color: transparent;
    border-style: double;
    border-width: 3px;
    transition:
        background-color 0.15s ease 0.05s,
        border-color 0.15s ease 0.05s;
}
a.footnote-ref.highlighted::before,
a.footnote-ref:hover::before,
a.footnote-ref:target::before,
a.footnote-ref.targeted::before {
    background-color: var(--GW-footnote-ref-highlight-background-color);
    border-color: var(--GW-footnote-ref-highlight-box-shadow-color);
    outline: none;
}

/* Deal with multiple footnote superscripts one after another; per Charuru */
sup + sup,
a.footnote-ref {
    margin-left: 0.05em;
}

#markdownBody .footnotes > ol > li + li {
    margin: 1em 0 0 0;
}

/*=------------------------=*/
/*= Back-to-citation links =*/
/*=------------------------=*/

.footnotes .footnote-back {
    margin: 0 0 0 0.5em;
    position: relative;
    font-weight: bold;
    line-height: 0.5;
    border: 1px dotted var(--GW-footnote-backlink-border-color);
    display: inline-block;
    text-indent: 0;
    z-index: 1;
    top: 0.15em;
    padding: 0.45em 0.2em 0.2em 0.2em;
}
#markdownBody .footnotes a.footnote-back {
    background-image: none;
}
#markdownBody .footnotes a.footnote-back:hover {
    border-color: var(--GW-footnote-backlink-border-hover-color);
}

.footnotes li {
    position: relative;
}
.footnotes blockquote + a.footnote-back,
.footnotes pre + a.footnote-back,
.footnotes .sourceCode + a.footnote-back {
    position: absolute;
    right: 0.5em;
    top: unset;
    bottom: -0.5em;
    background-color: var(--GW-footnote-backlink-after-bordered-block-background-color);
}

section.footnotes > ol {
	list-style-type: none;
	padding-left: 2.625em;
    overflow: visible;
}
section.footnotes > ol > li {
	counter-increment: footnotes;
	min-height: calc(1.75em + 1px);
}
section.footnotes > ol > li::before {
    position: absolute;
    z-index: 1;
}
section.footnotes > ol > li::before {
	border: 1px dotted var(--GW-footnote-border-color);
	width: 1.75em;
    height: 1.75em;
    line-height: 1;
	font-feature-settings: 'lnum';
	content: counter(footnotes);
	display: flex;
	justify-content: center;
    align-items: center;
	right: calc(100% + 0.75em);
    top: calc(-0.125em - 1px);
}
section.footnotes > ol > li::after {
	content: "";
	position: absolute;
	border-right: 1px dotted var(--GW-footnote-border-color);
	height: calc(100% + 0.125em + 2px);
    top: calc(-0.125em - 1px);
	left: calc(-0.75em - 1px);
}

section.footnotes > ol > li:target::before,
section.footnotes > ol > li:target::after,
section.footnotes > ol > li.highlighted::before,
section.footnotes > ol > li.highlighted::after {
    border-style: solid;
    border-color: var(--GW-footnote-highlighted-border-color);
    box-shadow:
        0 0 0 1px var(--GW-body-background-color) inset,
        0 0 0 2px var(--GW-footnote-highlighted-border-color) inset;
}
section.footnotes > ol > li:target::after,
section.footnotes > ol > li.highlighted::after {
    border-width: 0 3px 0 0;
    border-style: double;
	left: calc(-0.75em - 3px);
}

section.footnotes > hr:first-child {
	position: relative;
    margin: 1.75em 0 1.375em 0;
    padding: 3px 0 0 0;
}
section.footnotes > hr:first-child::after {
	content: "";
	border: 1px solid var(--GW-footnotes-section-top-rule-color);
	width: 2em;
	height: 2em;
	background-color: var(--GW-body-background-color);
	z-index: 1;
	box-shadow:
		0 0 0 calc(0.5em - 1px) var(--GW-body-background-color) inset,
		0 0 0 0.5em var(--GW-footnotes-section-top-rule-color) inset;
    filter: none;
}
section.footnotes > hr:first-child::before {
	content: "";
	position: absolute;
	height: 1px;
	background-color: var(--GW-footnotes-section-top-rule-color);
	width: 100%;
	top: 50%;
}

/*************/
/* SIDENOTES */
/*************/

#sidenote-column-left,
#sidenote-column-right {
    position: absolute;
    max-width: 550px;
    font-size: 0.85em;
}
#sidenote-column-left {
    height: calc(100% - 20em);
    width: calc(50vw - (50% + 92px));
    top: 20em;
    right: calc(100% + 64px);
}
#sidenote-column-right {
    height: 100%;
    width: calc(50vw - (50% + 104px));
    top: 0;
    left: calc(100% + 60px);
}

/*=-----------------=*/
/*= Sidenote blocks =*/
/*=-----------------=*/

.sidenote {
    position: absolute;
    left: 0;
    width: 100%;
    opacity: 0.85;
    line-height: 1.5;
    padding: 2em 0 0 0;
}
.sidenote.highlighted,
.sidenote:hover,
.sidenote:target,
.sidenote.targeted {
    background-color: var(--GW-sidenote-highlight-background-color);
    opacity: 1.0;
}
.sidenote:target {
    z-index: 1;
}
.sidenote.highlighted,
.sidenote:hover {
    z-index: 2;
}

/*  This provides a solid hover margin.
    */
.sidenote::after {
    content: "";
    position: absolute;
    width: calc(100% + 20px);
    height: calc(100% + 20px);
    top: -13px;
    left: -13px;
}
.sidenote.highlighted::after,
.sidenote:hover::after,
.sidenote:target::after,
.sidenote.targeted::after {
    border: 3px double var(--GW-sidenote-highlight-box-shadow-color);
}

/*=-------------------=*/
/*= Sidenote wrappers =*/
/*=-------------------=*/

/*  Outer wrapper (scrolls).
    */
.sidenote-outer-wrapper {
    max-height: 720px;
    overflow: hidden;
    position: relative;
    z-index: 1;
    border-style: dotted;
    border-color: var(--GW-sidenote-border-color);
    border-width: 1px 0;
}
.sidenote.cut-off .sidenote-outer-wrapper {
    overflow-y: auto;
    overscroll-behavior: none;
    width: 100%;
    padding: 0 1px 0 0;
}

/*  Scroll bar styles (for WebKit/Chromium).
    */
.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar {
    width: 12px;
}
.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar-thumb {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMXd3d////ywAAAAABAAEAAACBgQShqgJBQA7');
    box-shadow:
        0 0 0 2px var(--GW-sidenote-scrollbar-track-color) inset;
    background-size: 2px;
}
.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar-thumb:hover {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAP///ywAAAAABAAEAAACBgQShqgJBQA7');
}

/*  Scroll bar styles (for Firefox).
    */
.sidenote.cut-off .sidenote-outer-wrapper {
    scrollbar-color: var(--GW-sidenote-scrollbar-thumb-color) var(--GW-sidenote-scrollbar-track-color);
}
.sidenote.cut-off .sidenote-outer-wrapper:hover {
    scrollbar-color: var(--GW-sidenote-scrollbar-thumb-hover-color) var(--GW-sidenote-scrollbar-track-color);
}

/*  Inner wrapper (does not scroll; stretches to height of content).
    */
.sidenote-inner-wrapper {
    position: relative;
    margin: 0.5em 0;
}

/*  Ensure content is interactable.
    */
.sidenote-inner-wrapper > * {
    position: relative;
    z-index: 1;
}

/*=--------------------------------------=*/
/*= Sidenote contents layout corrections =*/
/*=--------------------------------------=*/

.sidenote blockquote {
    margin: 1.5em 0 0.75em 0;
}
.sidenote pre {
    margin: 1.75em 0 0.75em 0;
}
.sidenote blockquote + *,
.sidenote pre + * {
    margin-top: 1.75em;
}

.sidenote p + p {
    text-indent: 1em;
}

#markdownBody .sidenote ul,
#markdownBody .sidenote ol {
    padding: 0 0 0 1.75em;
}

#markdownBody .sidenote li {
    text-align: left;
}

/*=-------------------------------=*/
/*= Sidenote self-links (numbers) =*/
/*=-------------------------------=*/

.sidenote > .sidenote-self-link {
    font-weight: 600;
    position: absolute;
    top: 0;
    border-style: dotted;
    border-color: var(--GW-sidenote-self-link-border-color);
    border-width: 1px 1px 0px 1px;
    width: 2em;
    height: 2em;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
}
/*  Disable link underlining.
    */
article > :not(#TOC) .sidenote > .sidenote-self-link {
    background-image: none;
}
#sidenote-column-left .sidenote > .sidenote-self-link {
    right: 0;
}
#sidenote-column-right .sidenote > .sidenote-self-link {
    left: 0;
}

/* /\* Sidenotes return links: align to the sidenote box like the sidenote numbering *\/ */
/* #sidenote-column-left .footnote-back { */
/*   position: absolute; */
/*   bottom: -8px; */
/*   border-color: #aaa; */
/*   border-width: 1px 1px 0px 1px; */
/*   width: 1.6em; */
/*   height: 2em; */
/*   display: flex; */
/*   align-items: center; */
/*   justify-content: center; */
/*   right: 0px; */
/* } */
/* #sidenote-column-right .footnote-back { */
/*   position: absolute; */
/*   bottom: -6px; */
/*   border-color: #aaa; */
/*   border-width: 1px 1px 0px 1px; */
/*   width: 1.6em; */
/*   height: 2em; */
/*   display: flex; */
/*   align-items: center; */
/*   justify-content: center; */
/*   right: 0px; */
/* } */
/* /\* special-case: move the return link into blockquotes to avoid messy partial overlap *\/ */
/* #sidenote-column-left blockquote + .footnote-back { margin-bottom: 9px; } */
/* #sidenote-column-right blockquote + .footnote-back { margin-bottom: 7px; } */
/* #sidenote-column-left ul + .footnote-back { margin-bottom: -11px; } */

/*=--------------=*/
/*= Margin notes *=/
/*=--------------=*/
/* display inline on mobile/narrow windows; on sufficiently-wide screens, pop out as number-less sidenotes */
.marginnote {
    /* bolding turns out to be too obtrusive for users' liking; italicized both inline & popped-out */
    font-style: italic;
}
.marginnote.sidenote {
    display: initial;
    width: calc(50vw - (50% + 104px));
    left: calc(100% + 60px);

    /*  We inherit left and right padding from .sidenote class. */
    padding-top: 0.5em;
    padding-bottom: 0.5em;

    font-size: calc(var(--GW-body-text-font-size) * 0.85);
    text-align: left;
    text-indent: 0;
    -webkit-hyphens: none;
    -moz-hyphens: none;
    hyphens: none;
    opacity: 0.85;
    z-index: 1;
}
.marginnote.sidenote:hover {
    box-shadow: none;
}
/* make links in margin notes (somewhat unusual but should be supported simply because that's what one would expect) clickable/hover-able */
.sidenote.marginnote::after {
    z-index: -1;
}

/**********/
/* TABLES */
/**********/

h1 + .table-wrapper,
h2 + .table-wrapper,
h3 + .table-wrapper,
h4 + .table-wrapper,
h5 + .table-wrapper,
h6 + .table-wrapper {
    margin: 0 0 2.125em 0;
}

table {
    margin: 0;
    padding: 0;
    border-collapse: collapse;
    width: 100%;
    font-size: 0.75em;
    border-style: solid;
    border-color: var(--GW-table-border-color);
    border-width: 2px 0;
}

/*=-------------------=*/
/*= Full-width tables =*/
/*=-------------------=*/

.table-wrapper.full-width {
    background-color: var(--GW-table-full-width-background-color);
    z-index: 1;
}

/*=-------------=*/
/*= Table parts =*/
/*=-------------=*/

table caption {
    padding: 0.25em 0.75em;
    font-style: italic;
    font-size: 1.25em;
    border-top: 2px solid var(--GW-table-caption-border-color);
}

table th,
table td {
    padding: 7px 10px;
    line-height: 1.35;
}
table th {
    font-weight: bold;
    border-bottom: 1px solid var(--GW-table-row-horizontal-border-color);
    text-align: left;
    hyphens: none;
}
table td {
    vertical-align: top;
}
table th + th,
table td + td {
    border-left: 1px solid var(--GW-table-cell-vertical-border-color);
}

table td > code {
    word-break: normal;
}

/*  Horizontal scroll bar styles (for WebKit/Chromium).
    */
.table-wrapper::-webkit-scrollbar {
    height: 16px;
}
.table-wrapper::-webkit-scrollbar-thumb {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMXd3d////ywAAAAABAAEAAACBgQShqgJBQA7');
    background-size: 2px;
    box-shadow:
        0 2px 0 0   var(--GW-table-scrollbar-track-color) inset,
        0 0   0 1px var(--GW-table-scrollbar-border-color) inset,
        0 2px 0 1px var(--GW-table-scrollbar-border-color) inset;
}
.table-wrapper::-webkit-scrollbar-thumb:hover {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAP///ywAAAAABAAEAAACBgQShqgJBQA7');
}

/*  Horizontal scroll bar styles (for Firefox).
    */
.table-wrapper {
    scrollbar-color: var(--GW-table-scrollbar-thumb-color) var(--GW-table-scrollbar-track-color);
}
.table-wrapper:hover {
    scrollbar-color: var(--GW-table-scrollbar-thumb-hover-color) var(--GW-table-scrollbar-track-color);
}

/*  Add little icons to tables handled by tablesorter.js
    to advertise that they are sortable.
    http://tablesorter.com/docs/#Configuration
    */
th.tablesorter-header {
    background-image: url('/static/img/tablesorter/tablesorter-bg.gif');
    cursor: pointer;
    font-weight: bold;
    background-repeat: no-repeat;
    background-position: center left;
    padding-left: 20px;
}
th.tablesorter-header:hover {
    background-color: var(--GW-table-column-heading-hover-background-color);
}
th.tablesorter-header:focus {
    outline: none;
}
th.tablesorter-headerAsc {
    background-image: url('/static/img/tablesorter/tablesorter-asc.gif');
}
th.tablesorter-headerDesc {
    background-image: url('/static/img/tablesorter/tablesorter-desc.gif');
}
th.tablesorter-headerAsc,
th.tablesorter-headerDesc,
th.tablesorter-headerAsc:hover,
th.tablesorter-headerDesc:hover {
    background-color: var(--GW-table-sorted-column-heading-background-color);
    color: var(--GW-table-sorted-column-heading-text-color);
    text-shadow:
       0.5px 0.5px 0 var(--GW-table-sorted-column-heading-text-shadow-color),
       0 0 1px var(--GW-table-sorted-column-heading-text-shadow-color);
}

/*  zebra-stripe tables (CSS3); from Twitter's bootstrap package
    NOTE: we tried 3-cycle zebra striping tables, but didn't pass muster.
    */
:not(.small-table) > table tr:nth-child(odd) td {
    background-color: var(--GW-table-zebra-stripe-alternate-row-background-color);
    --GW-link-underline-background-color: var(--GW-table-zebra-stripe-alternate-row-background-color);
}
#markdownBody table tbody tr:hover {
    outline: 1px dotted var(--GW-table-row-hover-outline-color);
}

/*  Tables in blockquotes.
    */
blockquote :not(.small-table) > table {
    --GW-table-zebra-stripe-alternate-row-background-color: var(--GW-body-background-color);
}
blockquote table th + th,
blockquote table td + td {
    border-left: 1px solid var(--GW-blockquote-background-color);
}

/*  Corrected version of suppliers tables CSS on /Modafinil; original by cwillu
    */
#suppliers-prices th {
    padding: 3px 15px;
}
#suppliers-prices td {
    padding: 0 15px;
}
#suppliers-prices th:nth-last-child(n+3),
#suppliers-prices td:nth-last-child(n+3) {
    text-align: right !important;
}
#suppliers-prices td:nth-child(1):after {
    content: " mg/$";
}
#suppliers-prices td:nth-child(2):after {
    content: " mg";
}
#suppliers-prices td:nth-child(3):before {
    content: "x";
    opacity: 0.4;
}
#suppliers-prices td:nth-child(4):before,
#suppliers-prices td:nth-child(5):before {
    content: "$";
}

/*  Horizontal scroll bar styles (for WebKit/Blink).
    */
pre::-webkit-scrollbar {
    height: 16px;
    background-color: var(--GW-pre-element-scrollbar-track-color);
}
pre::-webkit-scrollbar-thumb {
    background-color: var(--GW-pre-element-scrollbar-thumb-color);
    box-shadow:
        0 0 0 3px var(--GW-pre-element-scrollbar-track-color) inset;
}
pre::-webkit-scrollbar-thumb:hover {
    background-color: var(--GW-pre-element-scrollbar-thumb-hover-color);
}

/*  Horizontal scroll bar styles (for Firefox).
    */
pre {
    scrollbar-color: var(--GW-pre-element-scrollbar-thumb-color) var(--GW-pre-element-scrollbar-track-color);
}
pre:hover {
    scrollbar-color: var(--GW-pre-element-scrollbar-thumb-hover-color) var(--GW-pre-element-scrollbar-track-color);
}

/***************/
/* CODE BLOCKS */
/***************/

code {
    --GW-link-underline-background-color: var(--GW-code-element-background-color);

    border: 1px solid var(--GW-code-element-border-color);
    background-color: var(--GW-code-element-background-color);

    padding: 0 4px;

    /*  Tufte CSS's monospace/sans suggestions, borrowing from Github: */
    /*  Added IBM Plex Mono webfont for styling consistency across platforms. */
    /* Primary font: https://en.wikipedia.org/wiki/IBM_Plex This was chosen for its dotted/slashed zero (a sine qua non of coding fonts where O/0 ambiguity is fatal), and for rendering well on Macs. */
    font-family: var(--GW-monospaced-font-stack);
    /*  OpenType stylistic sets to enable single-story 'g' and slashed zero in
        IBM Plex Mono. */
    font-feature-settings: 'ss02', 'ss03';

    font-size: 0.9em;
    word-break: break-all;
    hyphens: none;
}
pre {
    margin: 1.75em auto;
    border: 1px solid var(--GW-pre-element-border-color);
    background-color: var(--GW-pre-element-background-color);
    cursor: text;
    max-height: calc(100vh - 8em);
}
pre code {
    display: block;
    padding: 0.4rem 0.7rem;
    margin: 0;
    border: none;
    background-color: transparent;
}

/*=------------------------------------------------------------------------------------------=*/
/*= Source code highlighting for pandoc/skylighting-generated syntax classes (not Pygments)  =*/
/*=------------------------------------------------------------------------------------------=*/

/* Monochrome-ish code highlighting theme, loosely based on Pygments's algol_nu (CSS: https://github.com/lukelbd/proplot/blob/master/docs/_static/pygments/algol_nu.css demo: https://xyproto.github.io/splash/docs/longer/algol_nu.html ; Python: https://github.com/pycom/EricShort/blob/master/ThirdParty/Pygments/pygments/styles/algol.py ). */
/* This skips the underlining and overuse of graying, and uses a bit of blue as an alternative, and retains red for warnings/errors. */
/* TODO: create a natural code sample that exercises all the classes; check readability of the faded comments in dark mode */
code span    { color: var(--GW-syntax-highlight-color-normal); } /* Normal */
code span.at { color: var(--GW-syntax-highlight-color-attribute); } /* Attribute */
code span.dt { color: var(--GW-syntax-highlight-color-data-type); font-weight: bold; font-style: italic  } /* DataType */
code span.va { color: var(--GW-syntax-highlight-color-variable); font-weight: bold; font-style: italic } /* Variable */
code span.ot { color: var(--GW-syntax-highlight-color-other); font-weight: bold; font-style: italic } /* Other */
code span.pp { color: var(--GW-syntax-highlight-color-preprocessor); font-weight: bold; font-style: italic } /* Preprocessor */
code span.ex { color: var(--GW-syntax-highlight-color-extension); font-style: italic } /* Extension */
code span.co { color: var(--GW-syntax-highlight-color-comment); } /* Comment */
code span.cf { color: var(--GW-syntax-highlight-color-control-flow); font-weight: bold; } /* ControlFlow */
code span.kw { color: var(--GW-syntax-highlight-color-keyword); font-weight: bold; } /* Keyword */
code span.op { color: var(--GW-syntax-highlight-color-operator); } /* Operator */
code span.sc { color: var(--GW-syntax-highlight-color-special-char); } /* SpecialChar */
code span.bu { color: var(--GW-syntax-highlight-color-built-in); font-weight: bold; } /* BuiltIn */
code span.fu { color: var(--GW-syntax-highlight-color-function); } /* Function */
code span.cn { color: var(--GW-syntax-highlight-color-constant); font-weight: bold; } /* Constant */
code span.dv { color: var(--GW-syntax-highlight-color-dec-val); font-weight: bold; } /* DecVal */
code span.bn { color: var(--GW-syntax-highlight-color-base-n); font-weight: bold; font-feature-settings: 'ss01'; } /* BaseN: "dsBaseN, values with a base other than 10." */
code span.fl { color: var(--GW-syntax-highlight-color-float);  font-weight: bold; font-feature-settings: 'ss01'; } /* Float */
code span.in { color: var(--GW-syntax-highlight-color-information); font-weight: bold; } /* Information */
code span.ch { color: var(--GW-syntax-highlight-color-char); font-style: italic; } /* Char */
code span.st { color: var(--GW-syntax-highlight-color-string); font-style: italic; } /* String */
code span.ss { color: var(--GW-syntax-highlight-color-special-string); font-weight: bold; font-style: italic } /* SpecialString: "dsSpecialString, SQL, regexes, HERE docs, LaTeX math mode, ..."x1 */
code span.vs { color: var(--GW-syntax-highlight-color-verbatim-string); font-style: italic; } /* VerbatimString: "dsVerbatimString, verbatim or raw strings like 'raw \backlash' in Perl, CoffeeScript, and shells, as well as r'\raw' in Python." */
code span.al { color: var(--GW-syntax-highlight-color-alert); text-decoration: double underline; font-weight: bold; } /* Alert */
code span.er { color: var(--GW-syntax-highlight-color-error); } /* Error */
code span.im { color: var(--GW-syntax-highlight-color-import); font-weight: bold; font-style: italic } /* Import */

/********/
/* MATH */
/********/

.mjpage__block {
    overflow-y: hidden;
    margin: 1.25em auto;
}
.mjpage__block .MJXc-display {
    margin: 0;
    padding: 0.25em 0;
}

/*  Horizontal scroll bar styles (for WebKit/Chromium).
    */
.mjpage__block::-webkit-scrollbar {
    height: 14px;
    border: 1px solid var(--GW-math-block-scrollbar-border-color);
}
.mjpage__block::-webkit-scrollbar-thumb {
    box-shadow:
        0 0 0 2px var(--GW-math-block-scrollbar-track-color) inset,
        0 0 0 8px var(--GW-math-block-scrollbar-thumb-color) inset;
    border-color: var(--GW-math-block-scrollbar-border-color) transparent;
    border-style: solid;
    border-width: 1px;
}
.mjpage__block:hover::-webkit-scrollbar-thumb:hover {
    box-shadow:
        0 0 0 2px var(--GW-math-block-scrollbar-track-color) inset,
        0 0 0 8px var(--GW-math-block-scrollbar-thumb-hover-color) inset;
}

/*  Horizontal scroll bar styles (for Firefox).
    */
.mjpage__block {
    scrollbar-color: var(--GW-math-block-scrollbar-thumb-color) var(--GW-math-block-scrollbar-track-color);
}
.mjpage__block:hover {
    scrollbar-color: var(--GW-math-block-scrollbar-thumb-hover-color) var(--GW-math-block-scrollbar-track-color);
}

/********/
/* MISC */
/********/

/* LaTeX/TeX: Format the logotypes correctly (a higher up, e lower) (borrowed from https://latex.now.sh/ ) */
.latex span:nth-child(1) {
    text-transform: uppercase;
    font-size: 0.76em;
    vertical-align: 0.25em;
    margin-left: -0.30em;
    margin-right: -0.08em;
    line-height: 1ex;
}
.latex span:nth-child(2) {
    text-transform: uppercase;
    vertical-align: -0.5ex;
    margin-left: -0.160em;
    margin-right: -0.120em;
    line-height: 1ex;
}
.tex-logotype sub {
    text-transform: uppercase;
    vertical-align: -0.50ex;
    margin-left: -0.1em;
    margin-right: -0.1em;
    font-size: 1em;
}

/*  Prevent text-shadow of italics in links from creating visual glitches (also fixes occasional link icon overlaps, eg a WP link to 'MGS:V' where the right-tilted 'V' would touch the WP 'W' link icon). */
#markdownBody em {
    margin-right: 0.1em;
}

/*************/
/* DROP CAPS */
/*************/
/*  "drop caps"/"initials" (https://en.wikipedia.org/wiki/Initial
    https://wiki.obormot.net/Reference/DropCapsDemo) are large fancy
    block letters used to start a page/section. We skip them on mobile because
    they use up 8-12KB each (even after @font-face subset optimization to load
    only 1 letter at a time), and take up a lot of screen space.
    (Mobile users can't have nice things.) To implement them, each Markdown
    page has a custom metadata field like "css: drop-caps-goudy" which is
    substituted into the compiled HTML like
    '<body class="pagename drop-caps-goudy">', allowing defining of multiple
    drop-caps and customized per page. The 3 drop-caps right now are Goudy
    ('drop-caps-goudy'), yinit ('drop-caps-yinit'), and
    De-Zs/Deutsche Zierschrift ('drop-caps-de-zs'). Goudy is for
    literary/historical/humanities pages, yinit is for technical/scientific
    pages, and De-Zs is for everything else.
    */
@media only screen and (min-width: 650px) {
    body[class*='drop-caps-'] .markdownBody > p:first-child::first-letter,
    body[class*='drop-caps-'] .abstract + p::first-letter,
    body[class*='drop-caps-'] .markdownBody > .epigraph:first-child + p::first-letter,
    .markdownBody *[class*='drop-cap-']::first-letter,
    .markdownBody *[class*='drop-cap-'] > p::first-letter {
        font-style: normal;
        font-weight: normal;
        float: left;
    }

    /*  All of these numbers are magic.
        */
    body.drop-caps-goudy .markdownBody > p:first-child::first-letter,
    body.drop-caps-goudy .abstract + p::first-letter,
    body.drop-caps-goudy .markdownBody > .epigraph:first-child + p::first-letter,
    .markdownBody .drop-cap-goudy::first-letter,
    .markdownBody .drop-cap-goudy > p::first-letter {
        font-family: "Goudy Initialen";
        font-size: 7em;
        line-height: 1;
        margin: 0.025em 0.02em -0.25em 0;
    }
    body.drop-caps-yinit .markdownBody > p:first-child::first-letter,
    body.drop-caps-yinit .abstract + p::first-letter,
    body.drop-caps-yinit .markdownBody > .epigraph:first-child + p::first-letter,
    .markdownBody .drop-cap-yinit::first-letter,
    .markdownBody .drop-cap-yinit > p::first-letter {
        font-family: Yinit;
        font-size: 5.625em;
        line-height: 1.35;
        margin: 0.07em 0.08em -0.5em 0;
        text-shadow: 0 0 0 var(--GW-drop-caps-yinit-text-shadow-color);
        color: var(--GW-drop-caps-yinit-color);
    }
    body.drop-caps-de-zs .markdownBody > p:first-child::first-letter,
    body.drop-caps-de-zs .abstract + p::first-letter,
    body.drop-caps-de-zs .markdownBody > .epigraph:first-child + p::first-letter,
    .markdownBody .drop-cap-de-zs::first-letter,
    .markdownBody .drop-cap-de-zs > p::first-letter {
        font-family: "Deutsche Zierschrift";
        font-size: 6.625em;
        line-height: 1.1;
        margin: 0.01em 0.03em -0.25em 0;
        color: var(--GW-drop-caps-de-zs-color);
    }
    body.drop-caps-cheshire .markdownBody > p:first-child::first-letter,
    body.drop-caps-cheshire .abstract + p::first-letter,
    body.drop-caps-cheshire .markdownBody > .epigraph:first-child + p::first-letter,
    .markdownBody .drop-cap-cheshire::first-letter,
    .markdownBody .drop-cap-cheshire > p::first-letter {
        font-family: "Cheshire Initials";
        font-size: 6.75em;
        line-height: 1;
        margin: 0.045em 0.05em -0.25em 0;
        color: var(--GW-drop-caps-cheshire-color);
    }
    body.drop-caps-kanzlei .markdownBody > p:first-child::first-letter,
    body.drop-caps-kanzlei .abstract + p::first-letter,
    body.drop-caps-kanzlei .markdownBody > .epigraph:first-child + p::first-letter,
    .markdownBody .drop-cap-kanzlei::first-letter,
    .markdownBody .drop-cap-kanzlei > p::first-letter {
        font-family: "Kanzlei Initialen";
        font-size: 7em;
        line-height: 1;
        margin: 0.025em 0.025em -0.25em -0.03em;
        color: var(--GW-drop-caps-kanzlei-color);
    }

    /*  Compensating for responsive line-height reduction.
        */
    @media only screen and (max-width: 1200px) {
        body.drop-caps-goudy .markdownBody > p:first-child::first-letter,
        body.drop-caps-goudy .abstract + p::first-letter,
        body.drop-caps-goudy .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-goudy::first-letter,
        .markdownBody .drop-cap-goudy > p::first-letter {
            font-size: 6.875em;
        }
        body.drop-caps-yinit .markdownBody > p:first-child::first-letter,
        body.drop-caps-yinit .abstract + p::first-letter,
        body.drop-caps-yinit .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-yinit::first-letter,
        .markdownBody .drop-cap-yinit > p::first-letter {
            font-size: 5.375em;
        }
        body.drop-caps-de-zs .markdownBody > p:first-child::first-letter,
        body.drop-caps-de-zs .abstract + p::first-letter,
        body.drop-caps-de-zs .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-de-zs::first-letter,
        .markdownBody .drop-cap-de-zs > p::first-letter {
            font-size: 6.5em;
        }
        body.drop-caps-cheshire .markdownBody > p:first-child::first-letter,
        body.drop-caps-cheshire .abstract + p::first-letter,
        body.drop-caps-cheshire .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-cheshire::first-letter,
        .markdownBody .drop-cap-cheshire > p::first-letter {
            font-size: 6.625em;
        }
        body.drop-caps-kanzlei .markdownBody > p:first-child::first-letter,
        body.drop-caps-kanzlei .abstract + p::first-letter,
        body.drop-caps-kanzlei .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-kanzlei::first-letter,
        .markdownBody .drop-cap-kanzlei > p::first-letter {
            font-size: 6.875em;
        }
    }
    @media only screen and (max-width: 1000px) {
        body.drop-caps-goudy .markdownBody > p:first-child::first-letter,
        body.drop-caps-goudy .abstract + p::first-letter,
        body.drop-caps-goudy .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-goudy::first-letter,
        .markdownBody .drop-cap-goudy > p::first-letter {
            font-size: 6.625em;
        }
        body.drop-caps-yinit .markdownBody > p:first-child::first-letter,
        body.drop-caps-yinit .abstract + p::first-letter,
        body.drop-caps-yinit .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-yinit::first-letter,
        .markdownBody .drop-cap-yinit > p::first-letter {
            font-size: 5.25em;
        }
        body.drop-caps-de-zs .markdownBody > p:first-child::first-letter,
        body.drop-caps-de-zs .abstract + p::first-letter,
        body.drop-caps-de-zs .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-de-zs::first-letter,
        .markdownBody .drop-cap-de-zs > p::first-letter {
            font-size: 6.25em;
        }
        body.drop-caps-cheshire .markdownBody > p:first-child::first-letter,
        body.drop-caps-cheshire .abstract + p::first-letter,
        body.drop-caps-cheshire .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-cheshire::first-letter,
        .markdownBody .drop-cap-cheshire > p::first-letter {
            font-size: 6.3125em;
        }
        body.drop-caps-kanzlei .markdownBody > p:first-child::first-letter,
        body.drop-caps-kanzlei .abstract + p::first-letter,
        body.drop-caps-kanzlei .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-kanzlei::first-letter,
        .markdownBody .drop-cap-kanzlei > p::first-letter {
            font-size: 6.6875em;
        }
    }

    /*  Special styles for special browsers.
        */
    @supports (-moz-user-focus: normal) {
        body.drop-caps-goudy .markdownBody > p:first-child::first-letter,
        body.drop-caps-goudy .abstract + p::first-letter,
        body.drop-caps-goudy .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-goudy::first-letter,
        .markdownBody .drop-cap-goudy > p::first-letter {
            margin: 0.05em 0.02em 0 0;
        }
        body.drop-caps-yinit .markdownBody > p:first-child::first-letter,
        body.drop-caps-yinit .abstract + p::first-letter,
        body.drop-caps-yinit .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-yinit::first-letter,
        .markdownBody .drop-cap-yinit > p::first-letter {
            margin: 0.06em 0.06em 0 0;
        }
        body.drop-caps-de-zs .markdownBody > p:first-child::first-letter,
        body.drop-caps-de-zs .abstract + p::first-letter,
        body.drop-caps-de-zs .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-de-zs::first-letter,
        .markdownBody .drop-cap-de-zs > p::first-letter {
            margin: 0.06em 0.04em 0 0;
        }
        body.drop-caps-cheshire .markdownBody > p:first-child::first-letter,
        body.drop-caps-cheshire .abstract + p::first-letter,
        body.drop-caps-cheshire .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-cheshire::first-letter,
        .markdownBody .drop-cap-cheshire > p::first-letter {
            margin: 0.06em 0.04em 0 0;
        }
        body.drop-caps-kanzlei .markdownBody > p:first-child::first-letter,
        body.drop-caps-kanzlei .abstract + p::first-letter,
        body.drop-caps-kanzlei .markdownBody > .epigraph:first-child + p::first-letter,
        .markdownBody .drop-cap-kanzlei::first-letter,
        .markdownBody .drop-cap-kanzlei > p::first-letter {
            margin: 0.05em 0.02em 0 -0.03em;
        }
    }
}

/*****************/
/* MULTI-COLUMNS */
/*****************/
/* Inspired by Markdeep (https://casual-effects.com/markdeep/features.md.html#multiplecolumns); limited multi-column support as a div class annotation */
/* This is particularly useful for extremely long ('skinny') lists where items tend to be short, such as in /DNM-archives#overall-coverage or /Replication */
/* Uses CSS3 columns: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Columns/Using_multi-column_layouts https://www.caniuse.com/#feat=multicolumn */
/* Currently limited to lists due to issues with hidden:overflow in FF and sidenotes.js in Chrome. */
.columns > ul,
.columns > ol {
    column-width: 15em;
    column-gap: 3em;
    margin-bottom: 2em;
}
#markdownBody .columns li,
#markdownBody .columns li p {
    text-align: left;
    break-inside: avoid;
}

.columns > ul figure {
    margin: 0 0 1.5em 0;
}

/***************/
/* ADMONITIONS */
/***************/
/* Highlighted boxes: 'admonitions' are small break-out boxes with notes, tips, warnings, etc. for the reader.  */
/* These are particularly useful in didactic technical writing, where there are many ways to slip up while using or coding something. */
/* Available (in increasing order of minatoriness): 'tip', 'note', 'warning', 'error'. */
/* Based on Markdeep's implementation: https://casual-effects.com/markdeep/features.md.html#basicformatting/admonitions (which appears loosely inspired by Wikipedia's notification templates like `{{NPOV}}`) */
/* and modified to grayscale (increasing intensity == increasing warning) for gwern.net. */
/* Usage examples: */
/* - <div class="admonition tip"><div class="admonition-title">Tip title (optional)</div> text</div> */
/* - <div class="admonition note"><div class="admonition-title">Note title (*)</div> text</div> */
/* - <div class="admonition warning"><div class="admonition-title">Warning title (*)</div> text</div> */
/* - <div class="admonition error"><div class="admonition-title">Error title (*)</div> text</div> */
.admonition {
    font-family: var(--GW-sans-serif-font-stack);
    font-size: 0.875em;
    position: relative;
    margin: 2em 0 1.5em 0;
    padding: 0.75em 1.25em 0.875em 1.125em;
    border-left: 2.875em solid var(--GW-admonition-default-left-border-color);
    background-color: var(--GW-admonition-default-background-color);
	--GW-link-underline-background-color: var(--GW-admonition-default-background-color);
}
.admonition-title {
    font-weight: bold;
}
.admonition.tip {
    border-left-color: var(--GW-admonition-tip-left-border-color);
    background-color: var(--GW-admonition-tip-background-color);
	--GW-link-underline-background-color: var(--GW-admonition-tip-background-color);
}
.admonition.warn,
.admonition.warning {
    border-left-color: var(--GW-admonition-warning-left-border-color);
    background-color: var(--GW-admonition-warning-background-color);
	--GW-link-underline-background-color: var(--GW-admonition-warning-background-color);
    color: var(--GW-admonition-warning-text-color);
}
.admonition.warn > .admonition-title::after,
.admonition.warning > .admonition-title::after {
    background-color: var(--GW-admonition-warning-title-background-color);
}
.admonition.error {
    border-left-color: var(--GW-admonition-error-left-border-color);
    background-color: var(--GW-admonition-error-background-color);
	--GW-link-underline-background-color: var(--GW-admonition-error-background-color);
    color: var(--GW-admonition-error-text-color);
}
.admonition.error > .admonition-title::after {
    background-color: var(--GW-admonition-error-title-background-color);
}

.admonition.note::before,
.admonition.tip::before,
.admonition.warn::before,
.admonition.warning::before,
.admonition.error::before {
    width: 2.875em;
    height: 100%;
    position: absolute;
    top: 0;
    right: 100%;
    padding: 0.625em;
    box-sizing: border-box;
}

.admonition.tip::before {
    content: url('/static/img/icons/info-circle.svg');
}
.admonition.note::before {
    content: url('/static/img/icons/arrow-right-white.svg');
    padding: 0.75em;
}
.admonition.warn::before,
.admonition.warning::before {
    content: url('/static/img/icons/exclamation-triangle-white.svg');
    padding-top: 0.75em;
}
.admonition.error::before {
    content: url('/static/img/icons/skull-crossbones-white.svg');
    padding: 0.75em;
}

.admonition p:last-child {
    margin-bottom: 0;
}

.admonition code {
    background-color: transparent;
    border: none;
    padding-left: 0;
    font-size: unset;
}

/*******************************/
/* PAGE-SPECIFIC MODIFICATIONS */
/*******************************/

/*=-------------------------=*/
/*= Index page & Tags pages =*/
/*=-------------------------=*/

/*  Header self-links on home page need not be full-width. */
body.index article #markdownBody section:not(.collapse) > h1:first-child a {
    display: inline;
}

/*  Internal links on the home page need no decoration. */
body.index #markdownBody a[href^="."]:not([href*="/docs/"]):not([href*="/images/"])::after,
body.index #markdownBody a[href^="https://www.gwern.net/"]:not([href$=".pdf"])::after {
    content: none;
}

/*  The /index needs more space in the lists for mobile users */
@media only screen and (max-width: 649px) {
    body.index #markdownBody li {
        line-height: 1.65;
    }
}

/*  Index's special appearance requires some more v-space for the nav UI */
body.index #navigation {
    margin: 2.5em 0 0.5em 0;
}

/*  Less fancy headings.
    */
body.index section:not(.collapse) > h1:first-child {
    font-size: 1.5em;
    line-height: 1.125;
    box-shadow: none;
    text-align: left;
    font-weight: bold;
    margin-left: 0;
    padding: 0;
}
/*  No pilcrows.
    */
body.index #markdownBody section > h1:first-child a::after {
    display: none;
}

/*  Nice-looking bottom decoration.
    */
body.index article,
body.tags article,
body.directory-index article {
    position: relative;
    padding-bottom: 4em;
}
body.index article::after,
body.tags article::after,
body.directory-index article::after {
    content: "";
    background-color: var(--GW-body-background-color);
    background-image: url('/static/img/logo/logo-smooth.svg');
    display: block;
    position: absolute;
    bottom: 0.75em;
    width: 22px;
    height: 30px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    left: 0;
    right: 0;
    margin: auto;
    padding: 0 10px 0 11px;
    z-index: 1;
}
body.index article::before,
body.tags article::before,
body.directory-index article::before {
    content: "";
    display: block;
    position: absolute;
    bottom: calc(0.75em + 15px);
    height: 1px;
    border-bottom: 1px dotted var(--GW-index-page-bottom-ornament-line-color);
    width: 100%;
}

/* For desktop users, we hide the horizontal rulers on the /index page as they are unnecessary given the flowing columns; for mobile users, we'll separate sections by rulers because they only get a single very long column to scroll through, which lacks a sense of hierarchy/chunking. However, desktop users still get the initial <hr> inserted by sed to divide the two blocks of New/Popular/Notable from all-topics sections (which has no class set on it). */
@media only screen and (min-width: 650px) {
 /*  Horizontal ruler on the home page.
    */
    body.index hr {
        margin: 1.5em 0 0;
    }
    body.index [class^='horizontalRule'] {
        display: none;
    }
}

/*=---------------=*/
/*= /Book-reviews =*/
/*=---------------=*/

body.book-reviews #markdownBody blockquote {
  clear: none;
}
body.book-reviews #markdownBody ol {
  overflow: unset;
}

body.book-reviews #markdownBody h2 + p {
    margin: -0.5em 0 1.5em 0;
    display: flex;
    flex-flow: row;
    justify-content: flex-start;
    max-width: 100%;
}
body.book-reviews h2 + p span {
    white-space: nowrap;
}
body.book-reviews h2 + p span + span {
    margin-left: 1em;
}
body.book-reviews h2 + p span:first-of-type {
    flex: 0 1 auto;
    max-width: 100%;
    text-overflow: ellipsis;
    overflow: hidden;
}
body.book-reviews h2 + p span:first-of-type:hover {
    overflow: visible;
    white-space: normal;
    text-align: left;
    height: 1em;
    padding-left: 1.5em;
    text-indent: -1.5em;
}

/*=-------=*/
/*= /Mead =*/
/*=-------=*/

/*  This is for the pictures of mead bottles next to the reviews.
    */
body.mead p > img {
    float: right;
    max-height: 8em;
    width: auto;
    position: relative;
    z-index: 1;
    margin: 1em 1em 1em 2em;
}

/*=-------=*/
/*= /Hafu =*/
/*=-------=*/

body.hafu .table-wrapper#hafu-list-table td:last-of-type {
    width: 50%;
}

/*=------------------=*/
/*= /komm-susser-tod =*/
/*=------------------=*/

body.komm-susser-tod .table-wrapper#lyrics-table {
    padding: 0 calc((100vw - 6.5ch - 105ch) / 2);
}

/*=----------------=*/
/*= /Catnip-survey =*/
/*=----------------=*/

body.catnip-survey .table-wrapper#results-table {
    padding: 0 calc((100vw - 6.5ch - 120ch) / 2);
}

/*=---------=*/
/*= /Iodine =*/
/*=---------=*/

body.iodine .table-wrapper#data-table {
    padding: 0 calc((100vw - 6.5ch - 105ch) / 2);
}

/*=--------------=*/
/*= /DNM-arrests =*/
/*=--------------=*/

body.dnm-arrests .table-wrapper#data-table td:nth-of-type(6),
body.dnm-arrests .table-wrapper#data-table td:nth-of-type(12),
body.dnm-arrests .table-wrapper#data-table td:nth-of-type(13) {
    white-space: nowrap;
}
body.dnmarrests .table-wrapper#data-table td:last-of-type {
    width: 20%;
}

/*=--------=*/
/*= /Lorem =*/
/*=--------=*/

body.lorem div[class^='drop-cap'] {
    margin: 1em 0 0 0;
}

/****************************/
/* DIRECTORY INDEX LISTINGS */
/****************************/
/* trim down appearance of UI elements not useful on listing pages (but without the other modifications for the primary /index. */

body.directory-index #sidebar a.patreon,
body.tags #sidebar a.patreon,
body.directory-index #page-tags,
body.directory-index #page-metadata-block,
body.directory-index #TOC,
body.directory-index #navigation,
body.directory-index #footer,
body.directory-index #comments,
body.directory-index #disqus_thread {
    display: none;
}

/*************************/
/* UI ELEMENTS CONTAINER */
/*************************/

#ui-elements-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    pointer-events: none;
}
#ui-elements-container > * {
    pointer-events: auto;
}

/***************/
/* IMAGE FOCUS */
/***************/

/*=--------=*/
/*= Colors =*/
/*=--------=*/

:root {
	--SA-image-focus-sans-serif-font-stack: var(--GW-sans-serif-font-stack);

    --SA-image-focus-image-hover-drop-shadow-color: var(--GW-image-focus-image-hover-drop-shadow-color);
    --SA-image-focus-overlay-background-color: #000;
    --SA-image-focus-overlay-image-caption-background-color: rgba(0, 0, 0, 0.7);
    --SA-image-focus-overlay-image-caption-text-color: #fff;
    --SA-image-focus-overlay-image-caption-link-color: #ccc;
    --SA-image-focus-overlay-image-caption-link-hover-color: #aaa;
    --SA-image-focus-overlay-help-box-background-color: rgba(0, 0, 0, 0.85);
    --SA-image-focus-overlay-help-box-text-color: #fff;
    --SA-image-focus-overlay-info-icon-color: #000;
    --SA-image-focus-overlay-info-icon-drop-shadow-color: #fff;
    --SA-image-focus-overlay-image-number-text-color: #000;
    --SA-image-focus-overlay-image-number-text-shadow-color: #fff;
    --SA-image-focus-overlay-slideshow-button-color: #ddd;
    --SA-image-focus-overlay-slideshow-button-hover-background-color: rgba(0, 0, 0, 0.1);
    --SA-image-focus-overlay-slideshow-button-hover-color: #777;
    --SA-image-focus-overlay-slideshow-button-hover-drop-shadow-color: #fff;
    --SA-image-focus-overlay-slideshow-button-active-color: #888;
    --SA-image-focus-overlay-slideshow-button-disabled-color: #ddd;
    --SA-image-focus-image-hover-tooltip-background-color: rgba(0, 0, 0, 0.75);
    --SA-image-focus-image-hover-tooltip-text-color: #fff;
}

/*=--------------=*/
/*= Hover styles =*/
/*=--------------=*/

#markdownBody img:hover {
/*     filter: drop-shadow(0 0 3px var(--SA-image-focus-image-hover-drop-shadow-color)); */
    cursor: zoom-in;
    box-shadow: 0 0 10px 0 var(--SA-image-focus-image-hover-drop-shadow-color);
}
#markdownBody img:active {
    transform: scale(0.975);
}

/*=---------=*/
/*= Overlay =*/
/*=---------=*/

#image-focus-overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 2;
    display: none;
    cursor: zoom-out;
}
#image-focus-overlay::before {
    content: "";
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--SA-image-focus-overlay-background-color);
    opacity: 0.9;
    z-index: -1;
}
#image-focus-overlay.engaged {
    display: initial;
}

#image-focus-overlay img {
    margin: auto;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}

/*=-------------------=*/
/*= Single-image mode =*/
/*=-------------------=*/

#image-focus-overlay:not(.slideshow) .image-number,
#image-focus-overlay:not(.slideshow) .slideshow-buttons,
#image-focus-overlay:not(.slideshow) .slideshow-help-text {
    display: none;
}

/*=---------=*/
/*= Caption =*/
/*=---------=*/

#image-focus-overlay .caption {
    position: absolute;
    bottom: 0.75em;
    background-color: var(--SA-image-focus-overlay-image-caption-background-color);
    left: 4.5em;
    right: 4.5em;
    margin: auto;
    max-width: calc(100% - 9em);
	width: -moz-fit-content;
	width: fit-content;
    text-align: center;
    font-family: var(--SA-image-focus-sans-serif-font-stack);
    border-radius: 8px;
    z-index: 1;
    transition:
        bottom 0.15s ease;
}
#image-focus-overlay .caption.hidden {
    bottom: -50%;
    transition:
        bottom 0.5s ease-in;
}

#image-focus-overlay .caption p {
    margin: 1em 1.25em;
    color: var(--SA-image-focus-overlay-image-caption-text-color);
}
#image-focus-overlay .caption code {
    background-color: inherit;
    border: none;
    font-size: 1em;
}
#image-focus-overlay .caption a {
    color: var(--SA-image-focus-overlay-image-caption-link-color);
}
#image-focus-overlay .caption a:hover {
    color: var(--SA-image-focus-overlay-image-caption-link-hover-color);
}

#image-focus-overlay .caption:not(:empty)::before {
    content: "";
    display: block;
    position: absolute;
    width: 100vw;
    height: calc(100% + 1.5em);
    z-index: -1;
    top: -0.75em;
    left: calc(-50vw + 50%);
}

/*=--------------=*/
/*= Help overlay =*/
/*=--------------=*/

#image-focus-overlay .help-overlay {
    position: absolute;
    display: flex;
    flex-flow: column;
    z-index: 2;
    font-family: var(--SA-image-focus-sans-serif-font-stack);
    font-size: 1.25rem;
    padding: 1em;
    border-radius: 10px;
    bottom: 1em;
    right: 1em;
    overflow: hidden;
    white-space: nowrap;
    color: transparent;
    visibility: hidden;
    transition:
        visibility 1s ease,
        color 1s ease,
        background-color 1s ease,
        bottom 0.3s ease;
}
#image-focus-overlay .help-overlay:hover {
    max-width: 24em;
    max-height: 14em;
    background-color: var(--SA-image-focus-overlay-help-box-background-color);
    color: var(--SA-image-focus-overlay-help-box-text-color);
    visibility: visible;
    transition:
        visibility 0.2s ease 0.3s,
        color 0.2s ease 0.3s,
        background-color 0.2s ease 0.3s;
}

#image-focus-overlay .help-overlay::after {
    content: "?";
    font-weight: bold;
    font-size: 2rem;
    position: absolute;
    right: 0;
    bottom: 0;
    padding: 10px;
    color: var(--SA-image-focus-overlay-info-icon-color);
    filter: drop-shadow(0 0 6px var(--SA-image-focus-overlay-info-icon-drop-shadow-color));
    visibility: visible;
    opacity: 0.85;
    transition:
        visibility 1s ease;
}
#image-focus-overlay .help-overlay:hover::after {
    visibility: hidden;
    transition:
        visibility 0.2s ease 0.3s;
}

#image-focus-overlay .help-overlay p {
    margin: 0;
    text-indent: -2em;
    padding-left: 2em;
    max-width: 100%;
    overflow: hidden;
}
#image-focus-overlay .help-overlay p + p {
    margin: 0.75em 0 0 0;
}
#image-focus-overlay .help-overlay.hidden {
    bottom: -2em;
}

/*=--------------=*/
/*= Slide number =*/
/*=--------------=*/

#image-focus-overlay .image-number {
    position: absolute;
    z-index: 2;
    font-family: var(--SA-image-focus-sans-serif-font-stack);
    font-size: 1.5rem;
    left: 1em;
    top: 1em;
    font-weight: 600;
    color: var(--SA-image-focus-overlay-image-number-text-color);
    text-shadow:
        0 0  3px var(--SA-image-focus-overlay-image-number-text-shadow-color),
        0 0  5px var(--SA-image-focus-overlay-image-number-text-shadow-color),
        0 0  8px var(--SA-image-focus-overlay-image-number-text-shadow-color),
        0 0 13px var(--SA-image-focus-overlay-image-number-text-shadow-color);
    width: 1.5em;
    text-align: right;
    white-space: nowrap;
    transition: top 0.3s ease;
}
#image-focus-overlay .image-number::before {
    content: "#";
    opacity: 0.3;
}
#image-focus-overlay .image-number::after {
    content: " of " attr(data-number-of-images);
    opacity: 0.3;
}
#image-focus-overlay .image-number:hover::before,
#image-focus-overlay .image-number:hover::after {
    opacity: 1.0;
}
#image-focus-overlay .image-number.hidden {
    top: -1.25em;
}

/*=-------------------=*/
/*= Slideshow buttons =*/
/*=-------------------=*/

#image-focus-overlay .slideshow-buttons {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    display: flex;
    justify-content: space-between;
    pointer-events: none;
}
#image-focus-overlay .slideshow-buttons button {
    font-size: 3rem;
    color: var(--SA-image-focus-overlay-slideshow-button-color);
    border: none;
    background-color: transparent;
    position: relative;
    left: 0;
    transition:
        left 0.3s ease;
    pointer-events: auto;
    cursor: pointer;
    width: 4rem;
    background-repeat: no-repeat;
    background-position: center;
    background-origin: content-box;
}
#image-focus-overlay .slideshow-buttons button.next {
    padding: 0.25em 0.25em 0.25em 0.375em;
}
#image-focus-overlay .slideshow-buttons button.previous {
    padding: 0.25em 0.375em 0.25em 0.25em;
}
#image-focus-overlay .slideshow-buttons button svg {
    pointer-events: none;
    fill: currentColor;
}
#image-focus-overlay .slideshow-buttons button::selection {
    background-color: transparent;
}
@media only screen and (hover: hover) {
    #image-focus-overlay .slideshow-buttons button:hover {
        background-color: var(--SA-image-focus-overlay-slideshow-button-hover-background-color);
        color: var(--SA-image-focus-overlay-slideshow-button-hover-color);
    }
    #image-focus-overlay .slideshow-buttons button:not(:disabled):hover svg {
        filter:
            drop-shadow(0 0 1px var(--SA-image-focus-overlay-slideshow-button-hover-drop-shadow-color))
            drop-shadow(0 0 3px var(--SA-image-focus-overlay-slideshow-button-hover-drop-shadow-color));
    }
}
#image-focus-overlay .slideshow-buttons button:active {
    transform: none;
    color: var(--SA-image-focus-overlay-slideshow-button-active-color);
}
#image-focus-overlay .slideshow-buttons button:disabled {
    text-shadow: none;
    background-color: transparent;
    color: var(--SA-image-focus-overlay-slideshow-button-disabled-color);
    cursor: default;
    opacity: 0.4;
}
#image-focus-overlay .slideshow-button.previous.hidden {
    left: -1.75em;
}
#image-focus-overlay .slideshow-button.next.hidden {
    left: 1.75em;
}

/*=---------=*/
/*= Tooltip =*/
/*=---------=*/

.image-wrapper {
    position: relative;
    display: block;
    margin: auto;
}
.image-wrapper::after {
    content: "Click to enlarge";
    display: block;
    position: absolute;
    margin: auto;
    left: 0;
    right: 0;
    bottom: 10px;
    padding: 6px 15px 7px 15px;
    font-size: 1rem;
    font-family: var(--SA-image-focus-sans-serif-font-stack);
    background-color: var(--SA-image-focus-image-hover-tooltip-background-color);
    color: var(--SA-image-focus-image-hover-tooltip-text-color);
    border-radius: 5px;
    opacity: 0.0;
    transition: opacity 0.15s ease;
    pointer-events: none;
}
.image-wrapper,
.image-wrapper::after {
	width: -moz-fit-content;
	width: fit-content;
}
.image-wrapper:hover::after {
    opacity: 1.0;
}

/**********/
/* POPUPS */
/**********/

.popupdiv {
	box-sizing: border-box;
	max-width: 100vw;
	max-height: 100vh;
    background-color: var(--GW-popups-popup-background-color);
    border: 3px double var(--GW-popups-popup-border-color);
    box-shadow: 1px 2px 8px 0 var(--GW-popups-box-shadow-color);
    opacity: 1.0;
    transition: none;
    z-index: 1;
}
.popupdiv.fading {
    opacity: 0.0;
    transition:
        opacity 0.25s ease-in 0.1s;
}

/*	Loading spinner.
	*/
.popupdiv.loading::before {
  content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M288 24.103v8.169a11.995 11.995 0 0 0 9.698 11.768C396.638 63.425 472 150.461 472 256c0 118.663-96.055 216-216 216-118.663 0-216-96.055-216-216 0-104.534 74.546-192.509 174.297-211.978A11.993 11.993 0 0 0 224 32.253v-8.147c0-7.523-6.845-13.193-14.237-11.798C94.472 34.048 7.364 135.575 8.004 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.789 504 256c0-121.187-86.924-222.067-201.824-243.704C294.807 10.908 288 16.604 288 24.103z"/></svg>');
  position: absolute;
  width: 3em;
  height: 6em;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  opacity: 0.2;
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg); }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg); }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg); }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg); }
}

.popupdiv > div {
    font-size: 0.9em;
    padding: calc(7em/9) 1em calc(8em/9) 1em;
    line-height: 1.45;
    overflow: auto;
}

/*	Adjustments for styles in popups.
	*/
.popupdiv p + ul,
.popupdiv p + ol {
    margin-top: 0.2em;
    margin-bottom: 0.2em;
}
.popupdiv h1,
.popupdiv h2,
.popupdiv h3,
.popupdiv h4,
.popupdiv h5,
.popupdiv h6 {
	margin-left: 0;
}
.popupdiv h1 a,
.popupdiv h2 a,
.popupdiv h3 a,
.popupdiv h4 a,
.popupdiv h5 a,
.popupdiv h6 a {
	text-decoration: none;
}
.popupdiv blockquote {
    margin: 1em 0;
}
.popupdiv .image-wrapper::after {
    content: none;
}

/*	Drop caps in popups.
	*/
.popupdiv.markdownBody .drop-cap-goudy > p,
.popupdiv.markdownBody .drop-cap-yinit > p,
.popupdiv.markdownBody .drop-cap-de-zs > p,
.popupdiv.markdownBody .drop-cap-cheshire > p,
.popupdiv.markdownBody .drop-cap-kanzlei > p {
    text-indent: 0;
}
.popupdiv.markdownBody .drop-cap-goudy > p::first-letter {
	font-size: 6.5em;
}
.popupdiv.markdownBody .drop-cap-yinit > p::first-letter {
	font-size: 5.125em;
}
.popupdiv.markdownBody .drop-cap-de-zs > p::first-letter {
	font-size: 6.375em;
}
.popupdiv.markdownBody .drop-cap-cheshire > p::first-letter {
	font-size: 6.375em;
}
.popupdiv.markdownBody .drop-cap-kanzlei > p::first-letter {
	font-size: 6.625em;
}

/*	Collapse blocks within popups.
	*/
.popupdiv .disclosure-button {
	display: none;
}
.popupdiv :not(section).collapse > .disclosure-button:not(:checked) + * > :first-child:not(.collapseSummary) {
	max-height: unset;
}

/*	Margin notes in popups.
	*/
.popupdiv .marginnote {
	display: initial;
}

/*  Sidenote popups.
	*/
.popupdiv .sidenote-self-link {
	display: none;
}
.popupdiv .sidenote-inner-wrapper {
	margin: 0;
}
.popupdiv .sidenote-outer-wrapper {
	border: none;
}

/*  Scroll bar styles (for WebKit/Blink).
    */
.popupdiv::-webkit-scrollbar {
    width: 14px;
}
.popupdiv::-webkit-scrollbar-thumb {
    background-color: var(--GW-popups-popup-scrollbar-thumb-color);
    box-shadow:
        0 0 0 3px var(--GW-popups-popup-scrollbar-track-color) inset;
}
.popupdiv::-webkit-scrollbar-thumb:hover {
    background-color: var(--GW-popups-popup-scrollbar-thumb-hover-color);
}

/*  Scroll bar styles (for Firefox).
    */
.popupdiv {
    scrollbar-color: var(--GW-popups-popup-scrollbar-thumb-color) var(--GW-popups-popup-scrollbar-track-color);
}
.popupdiv:hover {
    scrollbar-color: var(--GW-popups-popup-scrollbar-thumb-hover-color) var(--GW-popups-popup-scrollbar-track-color);
}

/* TODO: the popups should ideally inherit from the regular CSS once the #markdownBody class is rewritten, and the underlining can be removed */
.popupdiv a {
    text-decoration: underline;
}
.popupdiv a:hover {
    color: var(--GW-popups-popup-link-hover-color);
}
.external-section-embed-popup a.footnote-back {
	text-decoration: none;
    z-index: 1;
}

/*=----------=*/
/*= EXTRACTS =*/
/*=----------=*/

.popupdiv.extract-popup {
	min-width: 360px;
	max-width: 640px;
}
.popupdiv.extract-popup:not(.toc-section-popup) {
	max-height: 480px;
}

/*	Data fields.
	*/
.extract-popup .data-field {
    text-align: left;
    text-indent: 0;
}
.extract-popup .data-field + .data-field {
    margin-top: 0.25em;
}
.extract-popup .data-field:empty {
    display: none;
}
.extract-popup .data-field.title {
    font-weight: bold;
    font-size: 1.125em;
}
.extract-popup .data-field.author {
    font-style: italic;
}
.extract-popup .date-plus-cites {
  display: inline-block;
}
.extract-popup .originalURL {
  font-size: 0.75em;
}
.extract-popup .iaMirror {
    padding-right: 0.3em;
}
.extract-popup .data-field.popupAbstract {
    margin-top: 0.5em;
}

/*	TODO: remove this once popups inherit from main body styles.
	*/
.extract-popup .data-field.popupAbstract p,
.extract-popup.section-embed-popup p,
.extract-popup.external-section-embed-popup p,
.extract-popup.citation-context-popup p {
    text-align: justify;
    hyphens: auto;
}
.extract-popup .data-field.popupAbstract p + p,
.extract-popup.section-embed-popup p + p,
.extract-popup.external-section-embed-popup p + p,
.extract-popup.citation-context-popup p + p {
    text-indent: 1em;
}

/*  Images such as the ones in Wikipedia popups.
    */
.extract-popup > div > figure.float-right {
    margin: 0.125em 0 0 1.5em;
}

.extract-popup img {
	width: 100%;
}
.extract-popup a {
    position: relative;
    z-index: 0;
}

.extract-popup blockquote:last-child,
.extract-popup .table-wrapper:last-child {
    margin-bottom: calc(1em/9);
}

/*	“Object popups”: videos, images, PDFs, archived web pages, etc.
	*/
.extract-popup.object-popup {
	height: 480px;
	background-color: var(--GW-object-popup-background-color);
}
.extract-popup.object-popup > div {
    padding: 0;
}
.extract-popup.object-popup img,
.extract-popup.object-popup iframe,
.extract-popup.object-popup object {
    display: block;
}
.extract-popup.object-popup iframe,
.extract-popup.object-popup object {
    width: 632px;
    height: 474px;
}

/*	Popups for images.
	*/
.extract-popup.image-popup {
    min-width: 64px;
    height: unset;
}
.popupdiv.image-popup.loading::before {
    height: 2em;
    width: 2em;
}

/*  Popups for videos.
    */
.extract-popup.video-popup {
	height: unset;
}
.extract-popup.video-popup iframe {
    width: 495px;
    height: 310px;
}

/*	Popups for local documents.
	*/

/*	Popups for local code files.
	*/
.extract-popup.local-code-file-popup {
	width: 640px;
	height: 480px;
}
.extract-popup.local-code-file-popup > div {
    height: 100%;
    padding: 0;
}
.extract-popup.local-code-file-popup pre {
    height: 100%;
	margin: 0;
    border: none;
}

/*	Section embeds.
	*/
.extract-popup.section-embed-popup > div,
.extract-popup.citation-context-popup > div {
    overflow-x: hidden;
}
.extract-popup.section-embed-popup > div > h1:first-child,
.extract-popup.section-embed-popup > div > h2:first-child,
.extract-popup.section-embed-popup > div > h3:first-child,
.extract-popup.section-embed-popup > div > h4:first-child,
.extract-popup.section-embed-popup > div > h5:first-child,
.extract-popup.section-embed-popup > div > h6:first-child,
.extract-popup.external-section-embed-popup > div > h1:first-child,
.extract-popup.external-section-embed-popup > div > h2:first-child,
.extract-popup.external-section-embed-popup > div > h3:first-child,
.extract-popup.external-section-embed-popup > div > h4:first-child,
.extract-popup.external-section-embed-popup > div > h5:first-child,
.extract-popup.external-section-embed-popup > div > h6:first-child,
.extract-popup.citation-context-popup > div > h1:first-child,
.extract-popup.citation-context-popup > div > h2:first-child,
.extract-popup.citation-context-popup > div > h3:first-child,
.extract-popup.citation-context-popup > div > h4:first-child,
.extract-popup.citation-context-popup > div > h5:first-child,
.extract-popup.citation-context-popup > div > h6:first-child {
    margin-top: 0;
}

/*	External section embeds.
	*/
.extract-popup.external-section-embed-popup {
	width: 640px;
	height: 480px;
}

/*	Special case for inline math in Wikipedia popups.
	*/
.extract-popup .mwe-math-element {
	display: inline-block;
	height: 1.25em;
	line-height: 1;
	margin: 0;
	vertical-align: bottom;
	padding: 0;
	text-indent: 0;
}
.extract-popup .mwe-math-element img {
	display: inline-block;
	height: 100%;
}


/*=-----------------=*/
/*= FOOTNOTE POPUPS =*/
/*=-----------------=*/
/* http://ignorethecode.net/blog/2010/04/20/footnotes/ */

.popupdiv.footnote-popup {
	min-width: unset;
	max-width: 640px;
	max-height: 480px;
}

.footnote-popup a.footnote-back {
    display: none;
}

/*  The following compensates for the variable edge case where the last
    blockquote within a floating footnote popup either DOES, or DOES NOT, have a
    back-to-citation link after it (which is not shown, if present, but makes it
    uncertain whether the blockquote is the last child of the popup or not. This
    code makes everything consistent regardless of which case applies.
    —Obormot (2019-02-17)
    */
.footnote-popup > div > blockquote:nth-last-child(2),
.footnote-popup .sidenote-inner-wrapper blockquote:nth-last-child(2) {
    margin-bottom: calc(1em/9);
}
.footnote-popup > div > blockquote:nth-last-child(2) + p,
.footnote-popup .sidenote-inner-wrapper blockquote:nth-last-child(2) + p {
    margin-top: 1em;
}

.footnote-popup .sidenote-outer-wrapper {
    max-height: unset;
}

/*=-----------------------=*/
/*= POPUPS OPTIONS DIALOG =*/
/*=-----------------------=*/

#popup-options-dialog {
    position: fixed;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--GW-popups-popup-options-dialog-backdrop-background-color);
    z-index: 2;
    opacity: 1;
    transition:
    	opacity 0.15s ease;
}
#popup-options-dialog.fading {
	opacity: 0;
}

#popup-options-dialog > div {
    position: absolute;
    width: 500px;
    background-color: var(--GW-popups-popup-options-dialog-background-color);
    border: 1px solid var(--GW-popups-popup-options-dialog-border-color);
    box-shadow: 0 2px 2px 0 var(--GW-popups-popup-options-dialog-box-shadow-color);
	font-family: var(--GW-sans-serif-font-stack);
    user-select: none;
}

#popup-options-dialog h1 {
    border-bottom: 1px solid var(--GW-popups-popup-options-dialog-horizontal-rule-color);
    margin: 0;
    text-align: center;
    padding: 0.25em 0 0.375em 0;
    font-feature-settings: unset;
    font-size: 1.5em;
    height: 1.25em;
}

#popup-options-dialog button {
    -moz-appearance: none;
    appearance: none;
    border: none;
    background-color: inherit;
    font-family: inherit;
    font-size: inherit;
}

#popup-options-dialog button.save-button {
    background-color: var(--GW-popups-popup-options-dialog-button-background-color);
    padding: 0 0.75em;
    height: 2em;
    font-weight: 600;
    color: var(--GW-popups-popup-options-dialog-button-text-color);
    position: absolute;
    right: 0.4em;
    top: 0.4em;
    border: 1px solid var(--GW-popups-popup-options-dialog-button-border-color);
}
#popup-options-dialog button.save-button:hover {
    cursor: pointer;
    box-shadow:
        0 0 0 2px var(--GW-popups-popup-options-dialog-button-background-color) inset,
        0 0 0 3px var(--GW-popups-popup-options-dialog-button-hover-box-shadow-color) inset;
}
#popup-options-dialog button.save-button:active {
    box-shadow:
        0 0 0 4px var(--GW-popups-popup-options-dialog-button-background-color) inset,
        0 0 0 5px var(--GW-popups-popup-options-dialog-button-hover-box-shadow-color) inset;
}

#popup-options-dialog button.close-button {
    display: block;
    width: 2em;
    position: absolute;
    left: 0.4em;
    top: 0.4em;
    color: var(--GW-popups-popup-options-dialog-button-text-color);
    margin: 1px;
}
#popup-options-dialog button.close-button:hover {
    cursor: pointer;
}
#popup-options-dialog button.close-button:active {
    transform: scale(0.9);
}
#popup-options-dialog button.close-button svg {
    display: block;
    fill: currentColor;
}

#popup-options-dialog .option-buttons {
    padding: 0.5em 1.5em 0.75em 1.5em;
}
#popup-options-dialog .option-buttons label {
    font-size: 1.125rem;
    font-weight: bold;
    text-align: left;
    display: flex;
    align-items: flex-start;
    width: 100%;
}
#popup-options-dialog .option-buttons label .button-text {
    display: block;
    flex: 1 0 100%;
    padding: 0.5em 0.75em;
}
#popup-options-dialog .option-buttons label input:checked + .button-text .label {
    text-decoration: underline;
}
#popup-options-dialog .option-buttons label .explanation {
    display: block;
    font-weight: normal;
    font-size: 0.875rem;
    color: var(--GW-popups-popup-options-dialog-option-button-explanation-text-color);
}
#popup-options-dialog .option-buttons label:hover,
#popup-options-dialog .option-buttons label:hover input {
    cursor: pointer;
}
#popup-options-dialog .option-buttons label:hover {
    color: var(--GW-popups-popup-options-dialog-option-button-hover-text-color);
}
#popup-options-dialog .option-buttons label:hover .button-text .label {
    text-decoration: dotted underline;
}

#popup-options-dialog .option-buttons input {
    appearance: none;
    -moz-appearance: none;
    font-family: inherit;
    font-size: inherit;
    border: 1px solid var(--GW-popups-popup-options-dialog-radio-button-border-color);
    width: 1rem;
    height: 1rem;
    padding: 0;
    margin: 0.75em 0 0 0;
    flex: 1 0 auto;
    transition:
        box-shadow 0.15s ease;
}

#popup-options-dialog .option-buttons input:checked {
    box-shadow:
        0 0 0 3px var(--GW-popups-popup-options-dialog-button-background-color) inset,
        0 0 0 1em var(--GW-popups-popup-options-dialog-button-hover-box-shadow-color) inset;
}

/*  With popups disabled, the “show popup options dialog” icon/button.
	*/
#popups-disabled-show-popup-options-dialog-button {
	position: fixed;
	top: calc(0.55em + 3px);
	right: 12em;
	z-index: 1;
}
#popups-disabled-show-popup-options-dialog-button button {
	-moz-appearance: none;
	appearance: none;
	border: none;
	font-family: inherit;
	font-size: inherit;
	background: inherit;
	color: var(--GW-popups-show-popup-options-dialog-button-color);
	fill: currentColor;
	padding: 0;
	line-height: 1;
	display: block;
    width: 1.125em;
    opacity: 0.3;
}
#popups-disabled-show-popup-options-dialog-button button:hover {
    cursor: pointer;
    opacity: 1.0;
}

/*********************/
/* LINK BIBLIOGRAPHY */
/*********************/

#link-bibliography {
	padding: 0 0 2.5rem 1em;
	border-top: 1px solid var(--GW-link-bibliography-border-color);
	border-bottom: 1px solid var(--GW-link-bibliography-border-color);
}

#link-bibliography .collapseSummary {
    position: relative;
    z-index: 2;
    margin: 2em 0 1.5em 0;
    box-shadow: 0.125rem 0 0 0.625rem var(--GW-body-background-color);
}
#link-bibliography:not(.expanded) .collapseSummary {
    margin-bottom: 0;
}
#link-bibliography:not(.expanded) > .disclosure-button ~ * {
    pointer-events: none;
}
#link-bibliography .disclosure-button::after {
    z-index: 2;
}

#link-bibliography > ol {
	padding: 0 0.75em 0 1.75em;
    overflow: visible;
    box-shadow: none;
}

#link-bibliography > ol > li > * {
    box-shadow: -1.75rem 0 0 0.5rem var(--GW-body-background-color);
}

#link-bibliography > ol > li::marker {
    font-weight: 600;
}

#link-bibliography > ol > li > p:first-child {
    text-align: left;
}
#link-bibliography > ol > li > blockquote {
    margin-bottom: 1em;
}

#link-bibliography > ol,
#link-bibliography > ol > li:last-child > blockquote {
    margin-bottom: 0;
}

@media only screen and (max-width: 649px) {
    #link-bibliography > ol > li > blockquote {
        margin-left: -1.75em;
        margin-right: -0.75em;
    }
     #link-bibliography > ol > li:nth-of-type(n+2) {
        margin-top: 1em;
    }
}

/**********/
/* POPINS */
/**********/

.popindiv.video-popin {
	padding: 0;
}

.video-popin iframe {
	display: block;
	width: 100%;
}

/*********************/
/* SEQUENTIAL NAV UI */
/*********************/
/* Navigation bar for previous/next page links (horizontal divider based on: https://commons.wikimedia.org/wiki/File:Filet_arabesque.svg ) */

#navigation {
    text-align: center;
    margin: 2em 0 0 0;
}
#navigation a {
    display: inline-block;
}
#navigation a svg {
    width: 100%;
    height: 32px;
}
#navigation #navigation-previous {
    width: 40%;
}
#navigation #navigation-center {
    margin: 0 0.5em;
    width: 13%;
}
#navigation #navigation-next {
    transform: scale(-1, 1);
    width: 39%;
}
/* override underlining: */
#navigation #navigation-previous,
#navigation #navigation-next,
#navigation #navigation-center {
    text-shadow: none;
    background: var(--GW-sequential-nav-link-background-color);
}

/** SUPERSCRIPT+SUBSCRIPT (necessary for inflation adjuster, and other math) **/
.supsub {
    display: inline-block;
    margin-left: 0.1em;
    text-indent: initial; /* override the p+p { text-indent: 2.5em; } */
}
.supsub sup,
.supsub sub {
    position: relative;
    display: block;
    font-size: 0.7em;
    line-height: 0.7;
}
.supsub sub {
    top: .2em;
}
